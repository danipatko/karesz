@page "/"
@using karesz.Components;

<PageTitle>karesz</PageTitle>

<FluentSplitter Orientation="Orientation.Horizontal" Panel1Size="40%" BarSize="6" Panel2MinSize="10px">
    <Panel1>
        <Editor />
    </Panel1>
    <Panel2>
        <Level />
        <button onclick=@Run>Compile And Run</button>  
    </Panel2>
</FluentSplitter>

@code {
    [Inject] public HttpClient HttpClient { get; set; }

    async Task Run()
    {
        // var level = await Level.LoadAsync(HttpClient, "v0.txt");
        // Console.WriteLine(level!.ToHeatString());

        await Game.RunAsync();

        Console.WriteLine(Output.Content);
        Output.Flush();
        Console.WriteLine("---");
        Console.WriteLine(Output.Content);
    }
}
